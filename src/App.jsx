import React from 'react';
import { BrowserRouter as Router, Routes, Route, Link } from 'react-router-dom';
import { useSelector } from 'react-redux'; // Импортируем useSelector
import ProductList from './assets/components/ProductList/ProductList';
import CartPage from './assets/components/CartPage/CartPage';
import { CiShoppingCart } from "react-icons/ci";
import './App.css';
import './index.css';

const App = () => {
  // Получаем количество товаров в корзине из Redux
  const cart = useSelector((state) => state.cart);
  const totalQuantity = cart.totalQuantity;

  return (
    <Router>
      <header style={{ padding: '10px', backgroundColor: '', color: 'white' }}>
        <nav style={{ display: 'flex', justifyContent: 'space-between' }}>
          <Link to="/" style={{ marginRight: '10px', color: 'white', textDecoration: 'none' }}>
          <span>
              <svg width="103" height="35" alt="Доставка цветов и подарков" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 631.28 217.5"><defs><style></style></defs><g><g><path class="cls-1" d="M222.87,179.75a18.55,18.55,0,0,1,5.86,13.95A22,22,0,0,1,217,213.45a25.46,25.46,0,0,1-12.26,3q-4,0-8.69-.36-1.69-.12-4-.24c-1.53-.08-3.22-.13-5.07-.13l-8.21.13c-1.45.08-3.51.12-6.16.12-.16,0-.24-.25-.24-.73s.08-.72.24-.72a24.13,24.13,0,0,0,6.64-.67,4.67,4.67,0,0,0,3-2.35,12.59,12.59,0,0,0,.85-5.32V150.22a13.43,13.43,0,0,0-.79-5.31,4.47,4.47,0,0,0-2.9-2.36,23.91,23.91,0,0,0-6.58-.66q-.36,0-.36-.72c0-.49.12-.73.36-.73l5.92.12c3.38.16,6.11.24,8.21.24q2.17,0,4.05-.12c1.24-.08,2.31-.16,3.2-.24,2.49-.24,4.83-.36,7-.36q10.16,0,15.22,4.41A14.55,14.55,0,0,1,221.48,156a15.79,15.79,0,0,1-3.74,10.33,24.5,24.5,0,0,1-10.27,7.06Q217,174.15,222.87,179.75ZM194,142.43a3.82,3.82,0,0,0-2.3,2.3,16.42,16.42,0,0,0-.72,5.74v22.94l5.43.12q8.82,0,13-4.53t4.23-12q0-6.77-3.68-10.93t-11.29-4.17A15.35,15.35,0,0,0,194,142.43Zm22,67.28q4.27-4.53,4.28-13,0-9.18-5.37-14.85t-14.8-5.8q-3.85-.12-9.17.24v29.83a10.43,10.43,0,0,0,.9,4.83,5.52,5.52,0,0,0,3.5,2.48,27.34,27.34,0,0,0,7.55.79Q211.7,214.24,216,209.71Z"></path><path class="cls-1" d="M317.5,141.89q-.36,0-.36-.72c0-.49.12-.73.36-.73l5.19.12q4.35.24,6.89.24,2.06,0,5.92-.24l5.07-.12c.16,0,.24.24.24.73s-.08.72-.24.72q-9.66,0-9.66,11.84V188q0,13.89-7.73,21.68T302.4,217.5A33.25,33.25,0,0,1,286.76,214a24.93,24.93,0,0,1-10.38-10,30.05,30.05,0,0,1-3.69-15.16V150.22a14.49,14.49,0,0,0-.72-5.31,4.29,4.29,0,0,0-2.84-2.36,24.57,24.57,0,0,0-6.7-.66c-.17,0-.25-.24-.25-.72s.08-.73.25-.73l5.91.12c3.39.16,6.12.24,8.22.24s5.07-.08,8.45-.24l5.8-.12c.24,0,.36.24.36.73s-.12.72-.36.72a22.2,22.2,0,0,0-6.64.73,4.39,4.39,0,0,0-2.9,2.47,14.77,14.77,0,0,0-.73,5.38v34.18q0,14.13,6.46,21.67t18.06,7.55q10.88,0,16.91-6.82t6-18.9V153.73Q328,141.9,317.5,141.89Z"></path><path class="cls-1" d="M445.16,215.2c0,.48-.12.73-.36.73H431.27c-.64,0-1.79,0-3.44.06s-4-2-6.95-6.16-5.83-8-8.57-11.42L393.83,175.1l-4,3.87v27.17a15,15,0,0,0,.73,5.38,4,4,0,0,0,2.84,2.35,26.29,26.29,0,0,0,6.7.61q.36,0,.36.72c0,.48-.12.73-.36.73-2.41,0-4.35,0-5.8-.12l-8.45-.13-8.21.13c-1.45.08-3.47.12-6,.12-.17,0-.24-.25-.24-.73s.07-.72.24-.72a26.29,26.29,0,0,0,6.7-.61,4.24,4.24,0,0,0,2.9-2.35,14,14,0,0,0,.78-5.38V150.22a14.49,14.49,0,0,0-.72-5.31,4.27,4.27,0,0,0-2.84-2.36,24.52,24.52,0,0,0-6.7-.66q-.24,0-.24-.72c0-.49.08-.73.24-.73l6,.12c3.38.16,6.07.24,8.09.24q3.5,0,8.57-.24l5.68-.12c.24,0,.36.24.36.73s-.12.72-.36.72a21.62,21.62,0,0,0-6.58.73,4.59,4.59,0,0,0-2.9,2.47,13.74,13.74,0,0,0-.79,5.38V176l25.85-25.73q4-4,4-5.91,0-2.42-7.13-2.42-.24,0-.24-.72c0-.49.08-.73.24-.73l5.19.12q4.83.24,8.82.24t8.33-.24l4.47-.12c.24,0,.37.24.37.73s-.13.72-.37.72a29,29,0,0,0-10.5,2.17A31.14,31.14,0,0,0,418.47,151l-19.08,18.72,17.39,22.22a189.5,189.5,0,0,0,13.46,16.19q4.65,4.71,7.19,5.55a24.35,24.35,0,0,0,7.37.85Q445.16,214.48,445.16,215.2Z"></path><path class="cls-1" d="M527.89,197.69a1.85,1.85,0,0,1,.67.12q.3.12.3.36a112,112,0,0,0-1.09,16,1.9,1.9,0,0,1-.42,1.38,2.08,2.08,0,0,1-1.51.43H475.23c-.16,0-.24-.25-.24-.73s.08-.72.24-.72a26.38,26.38,0,0,0,6.71-.61,4.26,4.26,0,0,0,2.9-2.35,14,14,0,0,0,.78-5.38V150.22a13.47,13.47,0,0,0-.78-5.31,4.52,4.52,0,0,0-2.9-2.36,24.6,24.6,0,0,0-6.71-.66q-.24,0-.24-.72c0-.49.08-.73.24-.73h48.56a1,1,0,0,1,1.08,1.09l.24,14.85c0,.25-.2.39-.6.43s-.64-.06-.72-.31c-.25-4.26-1.53-7.58-3.87-10a12.46,12.46,0,0,0-9.3-3.56h-7.37a21.4,21.4,0,0,0-6.22.66,4.49,4.49,0,0,0-2.77,2.3,11.57,11.57,0,0,0-.79,4.89v24.52h14.74q5.79,0,8.27-1.94c1.65-1.28,2.48-3.46,2.48-6.52q0-.24.72-.24t.72.24l-.12,9.78c0,2.34,0,4.11.12,5.32l.12,5.8q0,.24-.72.24t-.72-.24c0-3.55-.87-6.08-2.6-7.61s-4.61-2.3-8.64-2.3H493.47v27.78a12.36,12.36,0,0,0,.73,5,4.07,4.07,0,0,0,2.65,2.18,22.11,22.11,0,0,0,6,.6h9.66a12.73,12.73,0,0,0,9.67-4.11q3.85-4.09,5.19-11.35Q527.41,197.69,527.89,197.69Z"></path><path class="cls-1" d="M570.46,146.48q-3.8,3.87-5.49,13.16c0,.17-.22.25-.67.25s-.66-.08-.66-.25q.48-4.33,1.09-11.35t.6-10.51c0-.4.22-.6.67-.6s.66.2.66.6c0,1.78,2.17,2.66,6.52,2.66q10.26.36,24.28.36,7.13,0,15.09-.24l8.22-.12a25.55,25.55,0,0,0,6.46-.6,3.71,3.71,0,0,0,2.72-2.42.64.64,0,0,1,.72-.48c.4,0,.61.16.61.48q-.37,3.51-.73,10.63c-.24,4.75-.36,8.62-.36,11.59,0,.17-.24.25-.73.25s-.72-.08-.72-.25q-.36-9.42-3.87-13.22t-11.59-3.8a42.85,42.85,0,0,0-7.73.48,4.32,4.32,0,0,0-3.14,2.05,12.1,12.1,0,0,0-.85,5.32v55.67a13,13,0,0,0,.85,5.44,4.6,4.6,0,0,0,3.26,2.29,33.92,33.92,0,0,0,7.61.61q.36,0,.36.72c0,.48-.12.73-.36.73q-4,0-6.4-.12l-9.42-.13-9.06.13c-1.61.08-3.83.12-6.64.12-.17,0-.24-.25-.24-.73s.07-.72.24-.72a34,34,0,0,0,7.61-.61,4.78,4.78,0,0,0,3.32-2.35,12.28,12.28,0,0,0,.9-5.38V150.22a11.69,11.69,0,0,0-.84-5.25,4.21,4.21,0,0,0-3.14-1.93,48.87,48.87,0,0,0-7.73-.42Q574.26,142.62,570.46,146.48Z"></path><path class="cls-1" d="M88.83,202.53a2.71,2.71,0,0,1-.79-.12c-7.1-2.18-9.81-12.54-8.52-32.6C80.41,155.86,83.41,137,88,116.6a275.6,275.6,0,0,1,13.39-41.77c3.36-8.24,9.62-22.42,13.87-24.93a3.75,3.75,0,0,1,3-.46,2.7,2.7,0,0,1-.5,5.28c-1.57,1.37-5.68,8.11-11.44,22.28a274.11,274.11,0,0,0-13.07,40.77c-4.48,20.1-7.43,38.7-8.31,52.38-1.5,23.34,3.23,26.65,4.72,27.1a2.7,2.7,0,0,1-.8,5.28Z"></path><path class="cls-1" d="M79,139.39a52.17,52.17,0,0,1-19.41-3.52,2.7,2.7,0,1,1,2-5c12.11,4.82,27.75,4,45.21-2.36,16-5.84,32.86-16,48.73-29.24,31.73-26.56,51.07-58.84,47.05-78.5-1.54-7.52-8.07-12.35-19.39-14.36-44.82-8-142.07,30.7-170,76-10.75,17.4-10.4,34,1,49.37A2.7,2.7,0,1,1,9.92,135C3.3,126.08,0,116.63,0,106.89c0-9,2.94-18.16,8.61-27.35C22.25,57.45,52.09,35.45,90.48,19.2,126.14,4.1,162-2.85,184.17,1.08c17.09,3,22.34,11.79,23.74,18.6,5.16,25.24-20.82,60.24-48.87,83.72C136.54,122.25,105.9,139.39,79,139.39Z"></path><path class="cls-1" d="M228.52,105.61a9.42,9.42,0,0,1-2.82-.4,8.94,8.94,0,0,1-5.83-5.09c-2.39-5.71,1.08-14,4.1-20.09l-1.45.61c-6.12,2.5-9.87,2.9-12.15,1.29-4.6-3.24-4.41-10.17-2.7-15.57C209.33,61.13,213.16,55,218.48,55h0a5.89,5.89,0,0,1,5.2,3.74c1.18,2.7,1.81,8.44-5.82,17.86.86-.29,1.89-.67,3.08-1.17a71.7,71.7,0,0,0,6.79-3.29,2.94,2.94,0,0,1,3.63.25c1.57,1.47.67,3.46.29,4.31s-.84,1.74-1.42,2.87C227.9,84.16,223,93.67,224.85,98a3.47,3.47,0,0,0,2.46,2c1.15.36,12.2,2.43,45.87-35.29a2.7,2.7,0,0,1,4,3.6C255.58,92.59,238.51,105.61,228.52,105.61Zm2-28.82h0ZM218.39,60.42c-1.59.12-4.17,3.13-5.58,7.57a14.88,14.88,0,0,0-.68,7c7.2-8.12,7-12.41,6.78-13.56A1.79,1.79,0,0,0,218.39,60.42Z"></path><path class="cls-1" d="M280.45,84.5a7.66,7.66,0,0,1-.86,0c-3.08-.3-6.85-2.84-7.24-13.22-.3-7.79,2.27-17.3,7.76-20.4a7.31,7.31,0,0,1,7.93.4l.12.08a4.09,4.09,0,0,1,3,1c1.32,1.14,2.08,3.23,2.4,5.76.57.18,1.21.35,1.91.5,5.24,1.12,19.33,2,36.78-13.75a2.7,2.7,0,0,1,3.62,4c-8.53,7.71-17.41,12.65-26.38,14.68a34.52,34.52,0,0,1-15.83.18,39.54,39.54,0,0,1-2.74,12C287.71,83.14,283.27,84.49,280.45,84.5Zm3.26-29.25a2,2,0,0,0-.95.28c-2.65,1.5-5.3,8.08-5,15.49.21,5.42,1.51,8,2.38,8.06,1.87.18,3.58-1.16,5.1-4a31.13,31.13,0,0,0,3.12-13.33c-2.8-1.54-4.46-3.52-4.64-5.61a4,4,0,0,1,0-.91Z"></path></g></g></svg>
            </span>          
          </Link>
          <Link to="/cart" style={{ color: 'white', textDecoration: 'none', position: 'relative' }}>
            <CiShoppingCart size={35} color='black' />
            {totalQuantity > 0 && (
              <span
                style={{
                  position: 'absolute',
                  top: '10px',
                  right: '7px',
                  color: 'black',
                  borderRadius: '50%',
                  padding: '0px 5px',
                  fontSize: '14px',
                }}
              >
                {totalQuantity}
              </span>
            )}
          </Link>
        </nav>
      </header>
      <main>
        <Routes>
          <Route path="/" element={<ProductList />} />
          <Route path="/cart" element={<CartPage />} />
        </Routes>
      </main>
    </Router>
  );
};

export default App;
